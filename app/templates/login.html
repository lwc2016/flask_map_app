{% extends "./base.html" %}
{% block css %}
    <link rel="stylesheet" href="{{url_for('static', filename='css/login.css')}}">
{% endblock %}
{% block content %}
    <div class="login">
        <h5 class="heading">欢迎登录</h5>
        <form class="form" action="{{url_for('web.login')}}" method="post">
            <input name="csrf_token" type="hidden" value="{{csrf_token()}}">
            <div class="form-group">
                {{form.name(class="form-control", placeholder="用户名")}}
                {% if get_flashed_messages() and get_flashed_messages()[0] and get_flashed_messages()[0].name %}
                    <small class="form-text text-danger">{{get_flashed_messages()[0].name[0]}}</small>
                {% endif %}
            </div>
            <div class="form-group">
                {{form.password(class="form-control", placeholder="密码")}}
                {% if get_flashed_messages() and get_flashed_messages()[0] and get_flashed_messages()[0].password %}
                    <small class="form-text text-danger">{{get_flashed_messages()[0].password[0]}}</small>
                {% endif %}
            </div>
            <div class="form-group">
                <button type="submit" class="btn btn-primary form-control">登录</button>
                {% if get_flashed_messages() and get_flashed_messages()[0] and get_flashed_messages()[0].error %}
                    <small class="form-text text-danger">{{get_flashed_messages()[0].error[0]}}</small>
                {% endif %}
            </div>
        </form>
    </div>
{% endblock %}